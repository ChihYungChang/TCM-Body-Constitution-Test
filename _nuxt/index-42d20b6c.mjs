import{_ as Y,d as R,T as X,R as S,a as y,i as $,r as k,c as G,b as w,o as c,e as h,f as e,g as A,F as m,h as b,t as F,j as q,w as I,Q as x,p as V,k as Q,l as T,n as U,m as L,q as D,s as Z}from"./entry-f9f48dea.mjs";const z=R({data(){return{share:!0,questionDataList:[],PingheScore:0,QiXuScore:0,YangXuScore:0,YingXuScore:0,TanShiScore:0,ShiReScore:0,XueYuScore:0,QiYuScore:0,TeBingScore:0,result:{isPinghe:null,physical:"",both:[],tenden:[],healthGuide:[]}}},methods:{onChange(t){document.getElementById(`question_${t}`).scrollIntoView({block:"center",behavior:"smooth"})},calculateScore(t){const i=this.questionDataList.filter(a=>a.type.includes(t)&&(a.gender!=null?a.gender===this.gender:!0));let v=0;for(const a of i){let r=a.value;a.is_decrease&&(r=6-a.value),v+=r}const g=i.length;return((v-g)/(g*4)*100).toFixed(1)},onCloseShare(){this.share=!1},onRetest(){location.reload()},onSubmit(){const t=this.questionDataList.findIndex(s=>s.value==0);if(t>0){document.getElementById(`question_${t}`).scrollIntoView({block:"center",behavior:"smooth"}),X(`\u8BF7\u586B\u5199\u7B2C${t+1}\u9898`);return}const i=this.calculateScore(1),v=this.calculateScore(2),g=this.calculateScore(3),E=this.calculateScore(4),a=this.calculateScore(5),r=this.calculateScore(6),C=this.calculateScore(7),B=this.calculateScore(8),u=this.calculateScore(9);this.PingheScore=i,this.QiXuScore=v,this.YangXuScore=g,this.YingXuScore=E,this.TanShiScore=a,this.ShiReScore=r,this.XueYuScore=C,this.QiYuScore=B,this.TeBingScore=u;const l=[{type:1,value:i},{type:2,value:v},{type:3,value:g},{type:4,value:E},{type:5,value:a},{type:6,value:r},{type:7,value:C},{type:8,value:B},{type:9,value:u}];console.log(`

1: \u5E73\u548C\u8D28 \u5F97\u5206: ${i}

2: \u6C14\u865A\u8D28 \u5F97\u5206: ${v}

3: \u9633\u865A\u8D28 \u5F97\u5206: ${g}

4: \u9634\u865A\u8D28 \u5F97\u5206: ${E}

5: \u75F0\u6E7F\u8D28 \u5F97\u5206: ${a}

6: \u6E7F\u70ED\u8D28 \u5F97\u5206: ${r}

7: \u8840\u7600\u8D28 \u5F97\u5206: ${C}

8: \u6C14\u90C1\u8D28 \u5F97\u5206: ${B}

9: \u7279\u7980\u8D28 \u5F97\u5206: ${u}

`);const f=[],_=[];for(const s of l)s.type!=1&&(s.value>=40&&f.push(s),s.value>=30&&s.value<40&&_.push(s));console.log(f),console.log(_);const d={isPinghe:null,physical:"",both:[],tenden:[],healthGuide:[]};if(i>=60){d.isPinghe=!0,f.length==0&&_.length==0&&(d.physical="\u5E73\u548C\u8D28"),(f.length>0||_.length>0)&&(d.physical="\u57FA\u672C\u5E73\u548C\u8D28"),d.healthGuide.push(S.find(s=>s.type===1));for(const s of l)s.type!=1&&(s.value>=40&&(d.both.push(y[s.type]),d.healthGuide.push(S.find(n=>n.type===s.type))),s.value>=30&&s.value<40&&(d.tenden.push(y[s.type]),d.healthGuide.push(S.find(n=>n.type===s.type))))}else if(d.isPinghe=!1,f.length>0){const s=f.sort((n,p)=>p.value-n.value);d.physical=y[s[0].type],d.both=s.filter((n,p)=>p>0).map(n=>y[n.type]);for(const n of f)d.healthGuide.push(S.find(p=>p.type===n.type));if(_.length>0){d.tenden=_.map(n=>y[n.type]);for(const n of _)d.healthGuide.push(S.find(p=>p.type===n.type))}}else{const s=_.sort((n,p)=>p.value-n.value);d.physical="\u503E\u5411"+y[s[0].type],d.tenden=s.filter((n,p)=>p>0).map(n=>y[n.type]);for(const n of _)d.healthGuide.push(S.find(p=>p.type===n.type))}this.result=d,this.initChart()},initChart(){let{PingheScore:t,QiXuScore:i,YangXuScore:v,YingXuScore:g,TanShiScore:E,ShiReScore:a,XueYuScore:r,QiYuScore:C,TeBingScore:B}=this,u=t>=60?["\u5E73\u548C","\u6C14\u865A","\u9633\u865A","\u9634\u865A","\u75F0\u6E7F","\u6E7F\u70ED","\u8840\u7600","\u6C14\u90C1","\u7279\u7980"]:["\u6C14\u865A","\u9633\u865A","\u9634\u865A","\u75F0\u6E7F","\u6E7F\u70ED","\u8840\u7600","\u6C14\u90C1","\u7279\u7980"],l=t>=60?[t,i,v,g,E,a,r,C,B]:[i,v,g,E,a,r,C,B];this.$nextTick(()=>{const f=document.getElementById("echart");$(f).setOption({grid:{top:"3%",left:"3%",right:"9%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:u},yAxis:{type:"value",show:!1,max:100},visualMap:{show:!1,pieces:[{gt:0,lte:40,color:"#007aff"},{gt:40,color:"#ed6858"},{gt:100,color:"#ed6858"}]},series:[{data:l,type:"bar",showBackground:!0,markLine:{lineStyle:{type:"solid",width:1},data:[{type:"average",yAxis:40}],label:{normal:{formatter:"\u5224\u5B9A"}}}}]}),this.$nextTick(()=>{setTimeout(()=>{document.getElementById("resultTop").scrollIntoView({block:"start",behavior:"auto"})},300)})})}},setup(t,i){const v=k(null),g=k(null);return{gender:v,onSelectGender:a=>{v.value=a,g.value=x.filter(r=>r.gender!=null?r.gender===a:!0)},questionDataList:g,strFilter:G(function(){return function(a){return a&&a.length>0?a.join("\u3001"):""}})}}}),o=t=>(V("data-v-d91f14f2"),t=t(),Q(),t),j={class:"page"},N={key:0},O={key:0,class:"index"},M=o(()=>e("div",{class:"title"},[e("div",{class:"main-title"},"Z\u5F0F\u517B\u751F\xB7\u4E2D\u533B\u4F53\u8D28\u81EA\u6D4B"),e("div",{class:"sub-title"},"\u672C\u6D4B\u8BD5\u6765\u81EA\u300A\u4E2D\u533B\u4F53\u8D28\u5206\u7C7B\u4E0E\u5224\u5B9A\u300B\u56FD\u5BB6\u6807\u51C6")],-1)),P={class:"sex-box"},J=o(()=>e("div",{class:"sex-box__title"},"\u8BF7\u9009\u62E9\u60A8\u7684\u6027\u522B\uFF1A",-1)),W={class:"sex"},H=o(()=>e("img",{src:"/male.svg",alt:"",srcset:""},null,-1)),K=o(()=>e("div",null,"\u7537",-1)),ee=[H,K],te=o(()=>e("img",{src:"/female.svg",alt:"",srcset:""},null,-1)),ue=o(()=>e("div",null,"\u5973",-1)),se=[te,ue],ie=o(()=>e("div",{class:"xiaohongshu"},[e("img",{src:"https://cdn.jsdelivr.net/gh/OLIVERgZzy/TCM-Body-Constitution-Test@gh-pages/xiaohongshu.png",width:"40",height:"40",style:{background:"#fff","border-radius":"5px"}}),e("div",{class:"text"},"X"),e("img",{src:"https://cdn.jsdelivr.net/gh/OLIVERgZzy/TCM-Body-Constitution-Test@gh-pages/logo.png",width:"40",height:"40",style:{"border-radius":"5px"}})],-1)),oe={key:1,class:"content"},ae=T('<div class="top" data-v-d91f14f2><div class="top-title" data-v-d91f14f2><div class="top-title__main-title" data-v-d91f14f2><img src="https://cdn.jsdelivr.net/gh/OLIVERgZzy/TCM-Body-Constitution-Test@gh-pages/logo.png" width="50" height="50" style="border-radius:5px;" data-v-d91f14f2><div class="right" data-v-d91f14f2><div class="top-title__main-title__text" data-v-d91f14f2>\u4E2D\u533B\u4F53\u8D28\u81EA\u6D4B</div><div class="top-title__sub-title" data-v-d91f14f2> \u672C\u6D4B\u8BD5\u6765\u81EA\u300A\u4E2D\u533B\u4F53\u8D28\u5206\u7C7B\u4E0E\u5224\u5B9A\u300B\u56FD\u5BB6\u6807\u51C6 </div></div></div></div><div class="info" data-v-d91f14f2>\u203C\uFE0F \u8BF7\u6839\u636E\u6700\u8FD1\u4E09\u4E2A\u6708\u7684\u4F53\u9A8C\u548C\u611F\u89C9\u56DE\u7B54</div></div>',1),ne={class:"quesitem",id:"questionData"},le=["id"],de={key:1,class:"result"},ce={class:"top",id:"resultTop"},re=o(()=>e("div",{class:"title"},"Z\u5F0F\u517B\u751F",-1)),he=o(()=>e("div",{class:"center"},"\u517B\u751F\u7EDD\u4E0D\u653E\u677E\uFF0C\u8D70\u4E0A\u4EBA\u751F\u5DC5\u5CF0",-1)),ve=o(()=>e("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAA/ElEQVQ4T62UMUpDQRRFz60lgmBnYSlZhRCwcAWCjY2Qxg1kA9mBrYSIrsDU6dyBYCOkSpGswDRXBv6X8WfeBORPOcwczn13GNHTUk8c+gfZHgDfknY1S9tnwE7SNj/3a2T7HTgGRpI2JZjtS+ANWEu6iEA3wAvwWYI1kAVwBDxKeiiC0qbtW2DehXUgT8C9JIegEgwYAq1JEZLuFVvLzL6ANNwUJ4SEoMZsCkwa/WfgrhunGq2BpHbaOGnro9Zm0agw2CUwi9psrf7MKGonajN6R3mcvcEeguUvewWc19rJYEtJV5HRGDgFprV2bF8DJ5JeD7b2n6+lt2/kB8acehM8SkhBAAAAAElFTkSuQmCC",class:"fenxiangtishiimg"},null,-1)),ge=o(()=>e("span",{class:"fenxianghaoyou",style:{color:"rgb(255, 255, 255)"}},"\u5206\u4EAB\u7ED9\u597D\u53CB\u6D4B\u4E00\u6D4B",-1)),pe=[ve,ge],fe={class:"my"},Fe=o(()=>e("div",{class:"label"},"\u4F60\u7684\u4F53\u8D28",-1)),_e={class:"tizhi"},Ee={key:0,class:"both"},Ce=o(()=>e("div",{class:"title"},"\u517C\u6709\u4F53\u8D28",-1)),Be={class:"value"},ye={key:1,class:"tender"},Se=o(()=>e("div",{class:"title"},"\u503E\u5411\u4F53\u8D28",-1)),Ae={class:"value"},De=o(()=>e("div",{id:"echart"},null,-1)),me={class:"health-guide"},be={class:"health-guide__content"},Te={class:"row"},ke=o(()=>e("label",null,"\u{1F7E1}\xA0 \u5E38\u89C1\u8868\u73B0\uFF1A",-1)),we={class:"row"},Ie=o(()=>e("label",null,"\u{1F7E1}\xA0 \u5F62\u4F53\u7279\u5F81\uFF1A",-1)),Le={class:"row"},Ye=o(()=>e("label",null,"\u{1F7E1}\xA0 \u7CBE\u795E\u7279\u5F81\uFF1A",-1)),Re={class:"row"},Xe=o(()=>e("label",null,"\u{1F7E1}\xA0 \u5FC3\u7406\u7279\u5F81\uFF1A",-1)),$e={class:"row"},Ge=o(()=>e("label",null,"\u{1F7E1}\xA0 \u53D1\u75C5\u503E\u5411\uFF1A",-1)),qe=o(()=>e("div",{class:"row"},[e("label",null,"\u{1F7E1} \u8C03\u517B\u65B9\u5F0F\uFF1A")],-1)),xe={class:"recuperation-method"},Ve={class:"howto"},Qe=o(()=>e("span",null,null,-1)),Ue={class:"title"},Ze=o(()=>e("span",null,null,-1)),ze=T('<div class="drainage" data-v-d91f14f2><div class="drainage__header" data-v-d91f14f2><div class="title" data-v-d91f14f2>\u67E5\u770B\u66F4\u591A\u517B\u751F\u77E5\u8BC6</div><div class="sub" data-v-d91f14f2>\u5C0F\u7EA2\u4E66\u53F7\uFF1A918355632</div></div><div class="drainage__content" data-v-d91f14f2><div class="left" data-v-d91f14f2><p data-v-d91f14f2>1. \u622A\u56FE\u4FDD\u5B58\u4E8C\u7EF4\u7801\uFF0C\u5FAE\u4FE1\u626B\u4E00\u626B\u8BC6\u522B</p><p data-v-d91f14f2>2. \u5C0F\u7EA2\u4E66\u641C\u7D22\u201CZ\u5F0F\u517B\u751F\u201D\uFF0C\u5173\u6CE8</p><p data-v-d91f14f2>3. \u5FAE\u4FE1\u641C\u7D22\u201CCoderOliver\u201D\uFF0C\u6DFB\u52A0\u597D\u53CB\uFF0C\u62C9\u4F60\u8FDB\u5165\u517B\u751F\u5C0F\u7EC4</p></div><img src="https://cdn.jsdelivr.net/gh/OLIVERgZzy/TCM-Body-Constitution-Test@gh-pages/xiaohongshuhomepage.png" alt="" srcset="" data-v-d91f14f2></div></div>',1),je=T('<div class="end" data-v-d91f14f2><div class="xiaohongshu" data-v-d91f14f2><img src="https://cdn.jsdelivr.net/gh/OLIVERgZzy/TCM-Body-Constitution-Test@gh-pages/xiaohongshu.png" width="60" height="60" style="background:#fff;border-radius:9px;" data-v-d91f14f2><div class="text" data-v-d91f14f2>X</div><img src="https://cdn.jsdelivr.net/gh/OLIVERgZzy/TCM-Body-Constitution-Test@gh-pages/logo.png" width="60" height="60" style="border-radius:5px;" data-v-d91f14f2></div><div class="text" data-v-d91f14f2>\u5173\u6CE8\u201CZ\u5F0F\u517B\u751F\u201D\u5B66\u4E60\u517B\u751F\u3001\u5065\u5EB7\u77E5\u8BC6</div></div>',1);function Ne(t,i,v,g,E,a){const r=Z,C=w("van-tab"),B=w("van-tabs");return c(),h("div",j,[t.result.physical==""?(c(),h("div",N,[t.gender==null?(c(),h("div",O,[M,e("div",P,[J,e("div",W,[e("div",{class:"btn male",onClick:i[0]||(i[0]=u=>t.onSelectGender(0))},ee),e("div",{class:"btn female",onClick:i[1]||(i[1]=u=>t.onSelectGender(1))},se)])]),ie])):A("",!0),t.gender!=null?(c(),h("div",oe,[ae,e("ol",ne,[(c(!0),h(m,null,b(t.questionDataList,(u,l)=>(c(),h(m,null,[(c(),h("li",{key:u.id,id:`question_${l}`},[e("p",{id:"problem",style:U({color:l>0&&t.questionDataList[l-1].value==0?"#7e7e7e":"#242421"})},F(l+1)+". "+F(u.questionText),5),!(l>0)||t.questionDataList[l-1].value?(c(),L(r,{key:0,index:l,value:t.questionDataList[l].value,"onUpdate:value":f=>t.questionDataList[l].value=f,onChange:f=>t.onChange(l)},null,8,["index","value","onUpdate:value","onChange"])):A("",!0)],8,le))],64))),256)),e("div",{class:"submit-btn",onClick:i[2]||(i[2]=(...u)=>t.onSubmit&&t.onSubmit(...u))},"\u67E5\u770B\u7ED3\u679C")])])):A("",!0)])):(c(),h("div",de,[e("div",ce,[re,he,t.share?(c(),h("div",{key:0,class:"fenxiangtishi",onClick:i[3]||(i[3]=(...u)=>t.onCloseShare&&t.onCloseShare(...u))},pe)):A("",!0)]),e("div",fe,[Fe,e("div",_e,F(t.result.physical),1)]),t.result.both.length>0?(c(),h("div",Ee,[Ce,e("div",Be,F(t.strFilter(t.result.both)),1)])):A("",!0),t.result.tenden.length>0?(c(),h("div",ye,[Se,e("div",Ae,F(t.strFilter(t.result.tenden)),1)])):A("",!0),De,e("div",me,[q(B,{active:t.active,"onUpdate:active":i[4]||(i[4]=u=>t.active=u),type:"card"},{default:I(()=>[(c(!0),h(m,null,b(t.result.healthGuide,u=>(c(),L(C,{key:u.id,title:u.name},{default:I(()=>[e("div",be,[e("div",Te,[ke,D(F(u.changjianbiaoxian),1)]),e("div",we,[Ie,D(F(u.xingtitezheng),1)]),e("div",Le,[Ye,D(F(u.jingshentezheng),1)]),e("div",Re,[Xe,D(F(u.xinlitezheng),1)]),e("div",$e,[Ge,D(F(u.fabingqingxiang),1)]),qe,e("ul",xe,[(c(!0),h(m,null,b(u.tiaoyangfangshi,l=>(c(),h("li",{key:l}," \u2705\xA0 "+F(l),1))),128))])])]),_:2},1032,["title"]))),128))]),_:1},8,["active"])]),e("div",Ve,[Qe,e("div",Ue,"\u6211\u662F"+F(t.result.physical)+"\uFF0C\u8BE5\u600E\u4E48\u529E\uFF1F",1),Ze]),ze,e("div",{class:"retest",onClick:i[5]||(i[5]=(...u)=>t.onRetest&&t.onRetest(...u))},"\u91CD\u65B0\u6D4B\u8BD5"),je]))])}var Me=Y(z,[["render",Ne],["__scopeId","data-v-d91f14f2"]]);export{Me as default};
