import{_ as I,d as L,T as $,R as f,a as C,i as G,r as k,c as q,b as T,o as r,e as h,f as e,g as D,F as m,h as b,t as S,j as X,w,Q as R,p as Q,k as U,l as N,n as V,m as Y,q as B,s as P}from"./entry-4ce55f9b.mjs";const j=L({data(){return{share:!0,questionDataList:[],PingheScore:0,QiXuScore:0,YangXuScore:0,YingXuScore:0,TanShiScore:0,ShiReScore:0,XueYuScore:0,QiYuScore:0,TeBingScore:0,result:{isPinghe:null,physical:"",both:[],tenden:[],healthGuide:[]}}},methods:{onChange(t){document.getElementById(`question_${t}`).scrollIntoView({block:"center",behavior:"smooth"})},calculateScore(t){const o=this.questionDataList.filter(i=>i.type.includes(t)&&(i.gender!=null?i.gender===this.gender:!0));let v=0;for(const i of o){let d=i.value;i.is_decrease&&(d=6-i.value),v+=d}const p=o.length;return((v-p)/(p*4)*100).toFixed(1)},onCloseShare(){this.share=!1},onRetest(){location.reload()},onSubmit(){const t=this.questionDataList.findIndex(s=>s.value==0);if(t>0){document.getElementById(`question_${t}`).scrollIntoView({block:"center",behavior:"smooth"}),$(`\u8BF7\u586B\u5199\u7B2C${t+1}\u9898`);return}const o=this.calculateScore(1),v=this.calculateScore(2),p=this.calculateScore(3),y=this.calculateScore(4),i=this.calculateScore(5),d=this.calculateScore(6),E=this.calculateScore(7),A=this.calculateScore(8),u=this.calculateScore(9);this.PingheScore=o,this.QiXuScore=v,this.YangXuScore=p,this.YingXuScore=y,this.TanShiScore=i,this.ShiReScore=d,this.XueYuScore=E,this.QiYuScore=A,this.TeBingScore=u;const a=[{type:1,value:o},{type:2,value:v},{type:3,value:p},{type:4,value:y},{type:5,value:i},{type:6,value:d},{type:7,value:E},{type:8,value:A},{type:9,value:u}];console.log(`

1: \u5E73\u548C\u8D28 \u5F97\u5206: ${o}

2: \u6C14\u865A\u8D28 \u5F97\u5206: ${v}

3: \u9633\u865A\u8D28 \u5F97\u5206: ${p}

4: \u9634\u865A\u8D28 \u5F97\u5206: ${y}

5: \u75F0\u6E7F\u8D28 \u5F97\u5206: ${i}

6: \u6E7F\u70ED\u8D28 \u5F97\u5206: ${d}

7: \u8840\u7600\u8D28 \u5F97\u5206: ${E}

8: \u6C14\u90C1\u8D28 \u5F97\u5206: ${A}

9: \u7279\u7980\u8D28 \u5F97\u5206: ${u}

`);const _=[],F=[];for(const s of a)s.type!=1&&(s.value>=40&&_.push(s),s.value>=30&&s.value<40&&F.push(s));console.log(_),console.log(F);const c={isPinghe:null,physical:"",both:[],tenden:[],healthGuide:[]};if(o>=60){c.isPinghe=!0,_.length==0&&F.length==0&&(c.physical="\u5E73\u548C\u8D28"),(_.length>0||F.length>0)&&(c.physical="\u57FA\u672C\u5E73\u548C\u8D28"),c.healthGuide.push(f.find(s=>s.type===1));for(const s of a)s.type!=1&&(s.value>=40&&(c.both.push(C[s.type]),c.healthGuide.push(f.find(n=>n.type===s.type))),s.value>=30&&s.value<40&&(c.tenden.push(C[s.type]),c.healthGuide.push(f.find(n=>n.type===s.type))))}else if(c.isPinghe=!1,_.length>0){const s=_.sort((n,g)=>g.value-n.value);c.physical=C[s[0].type],c.both=s.filter((n,g)=>g>0).map(n=>C[n.type]);for(const n of _)c.healthGuide.push(f.find(g=>g.type===n.type));if(F.length>0){c.tenden=F.map(n=>C[n.type]);for(const n of F)c.healthGuide.push(f.find(g=>g.type===n.type))}}else{const s=F.sort((n,g)=>g.value-n.value);c.physical="\u503E\u5411"+C[s[0].type],c.tenden=s.filter((n,g)=>g>0).map(n=>C[n.type]);for(const n of F)c.healthGuide.push(f.find(g=>g.type===n.type))}this.result=c,this.initChart()},initChart(){let{PingheScore:t,QiXuScore:o,YangXuScore:v,YingXuScore:p,TanShiScore:y,ShiReScore:i,XueYuScore:d,QiYuScore:E,TeBingScore:A}=this,u=t>=60?["\u5E73\u548C","\u6C14\u865A","\u9633\u865A","\u9634\u865A","\u75F0\u6E7F","\u6E7F\u70ED","\u8840\u7600","\u6C14\u90C1","\u7279\u7980"]:["\u6C14\u865A","\u9633\u865A","\u9634\u865A","\u75F0\u6E7F","\u6E7F\u70ED","\u8840\u7600","\u6C14\u90C1","\u7279\u7980"],a=t>=60?[t,o,v,p,y,i,d,E,A]:[o,v,p,y,i,d,E,A];this.$nextTick(()=>{const _=document.getElementById("echart");G(_).setOption({grid:{top:"3%",left:"3%",right:"9%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:u},yAxis:{type:"value",show:!1,max:100},visualMap:{show:!1,pieces:[{gt:0,lte:40,color:"#007aff"},{gt:40,color:"#ed6858"},{gt:100,color:"#ed6858"}]},series:[{data:a,type:"bar",showBackground:!0,markLine:{lineStyle:{type:"solid",width:1},data:[{type:"average",yAxis:40}],label:{normal:{formatter:"\u5224\u5B9A"}}}}]}),this.$nextTick(()=>{setTimeout(()=>{document.getElementById("resultTop").scrollIntoView({block:"start",behavior:"auto"})},300)})})}},setup(t,o){const v=k(null),p=k(null);return{gender:v,onSelectGender:i=>{v.value=i,p.value=R.filter(d=>d.gender!=null?d.gender===i:!0)},questionDataList:p,strFilter:q(function(){return function(i){return i&&i.length>0?i.join("\u3001"):""}})}}}),l=t=>(Q("data-v-579ece11"),t=t(),U(),t),z={class:"page"},M={key:0},J={key:0,class:"index"},W=l(()=>e("div",{class:"title"},[e("div",{class:"main-title"},"\u4E2D\u533B\u4F53\u8D28\u81EA\u6D4B"),e("div",{class:"sub-title"},"\u672C\u6D4B\u8BD5\u6765\u81EA\u300A\u4E2D\u533B\u4F53\u8D28\u5206\u7C7B\u4E0E\u5224\u5B9A\u300B\u56FD\u5BB6\u6807\u51C6")],-1)),x={class:"sex-box"},O=l(()=>e("div",{class:"sex-box__title"},"\u8BF7\u9009\u62E9\u60A8\u7684\u6027\u522B\uFF1A",-1)),H={class:"sex"},Z=l(()=>e("img",{src:"https://chihyungchang.github.io/TCM-Body-Constitution-Test/male.svg",alt:"",srcset:""},null,-1)),K=l(()=>e("div",null,"\u7537",-1)),ee=[Z,K],te=l(()=>e("img",{src:"https://chihyungchang.github.io/TCM-Body-Constitution-Test/female.svg",alt:"",srcset:""},null,-1)),ue=l(()=>e("div",null,"\u5973",-1)),se=[te,ue],oe={key:1,class:"content"},ie=N('<div class="top" data-v-579ece11><div class="top-title" data-v-579ece11><div class="top-title__main-title" data-v-579ece11><img src="https://cdn.jsdelivr.net/gh/chihyungchang/TCM-Body-Constitution-Test@gh-pages/logo.png" width="50" height="50" style="border-radius:5px;" data-v-579ece11><div class="right" data-v-579ece11><div class="top-title__main-title__text" data-v-579ece11>\u4E2D\u533B\u4F53\u8D28\u81EA\u6D4B</div><div class="top-title__sub-title" data-v-579ece11> \u672C\u6D4B\u8BD5\u6765\u81EA\u300A\u4E2D\u533B\u4F53\u8D28\u5206\u7C7B\u4E0E\u5224\u5B9A\u300B\u56FD\u5BB6\u6807\u51C6 </div></div></div></div><div class="info" data-v-579ece11>\u203C\uFE0F \u8BF7\u6839\u636E\u6700\u8FD1\u4E09\u4E2A\u6708\u7684\u4F53\u9A8C\u548C\u611F\u89C9\u56DE\u7B54</div></div>',1),ne={class:"quesitem",id:"questionData"},le=["id"],ae={key:1,class:"result"},ce={class:"top",id:"resultTop"},re=l(()=>e("div",{class:"center"},"\u517B\u751F\u7EDD\u4E0D\u653E\u677E\uFF0C\u8D70\u4E0A\u4EBA\u751F\u5DC5\u5CF0",-1)),de=l(()=>e("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAA/ElEQVQ4T62UMUpDQRRFz60lgmBnYSlZhRCwcAWCjY2Qxg1kA9mBrYSIrsDU6dyBYCOkSpGswDRXBv6X8WfeBORPOcwczn13GNHTUk8c+gfZHgDfknY1S9tnwE7SNj/3a2T7HTgGRpI2JZjtS+ANWEu6iEA3wAvwWYI1kAVwBDxKeiiC0qbtW2DehXUgT8C9JIegEgwYAq1JEZLuFVvLzL6ANNwUJ4SEoMZsCkwa/WfgrhunGq2BpHbaOGnro9Zm0agw2CUwi9psrf7MKGonajN6R3mcvcEeguUvewWc19rJYEtJV5HRGDgFprV2bF8DJ5JeD7b2n6+lt2/kB8acehM8SkhBAAAAAElFTkSuQmCC",class:"fenxiangtishiimg"},null,-1)),he=l(()=>e("span",{class:"fenxianghaoyou",style:{color:"rgb(255, 255, 255)"}},"\u5206\u4EAB\u7ED9\u597D\u53CB\u6D4B\u4E00\u6D4B",-1)),ve=[de,he],pe={class:"my"},ge=l(()=>e("div",{class:"label"},"\u4F60\u7684\u4F53\u8D28",-1)),_e={class:"tizhi"},Se={key:0,class:"both"},Fe=l(()=>e("div",{class:"title"},"\u517C\u6709\u4F53\u8D28",-1)),ye={class:"value"},Ee={key:1,class:"tender"},Ae=l(()=>e("div",{class:"title"},"\u503E\u5411\u4F53\u8D28",-1)),Ce={class:"value"},fe=l(()=>e("div",{id:"echart"},null,-1)),De={class:"health-guide"},Be={class:"health-guide__content"},me={class:"row"},be=l(()=>e("label",null,"\u{1F7E1}\xA0 \u5E38\u89C1\u8868\u73B0\uFF1A",-1)),ke={class:"row"},Te=l(()=>e("label",null,"\u{1F7E1}\xA0 \u5F62\u4F53\u7279\u5F81\uFF1A",-1)),we={class:"row"},Ye=l(()=>e("label",null,"\u{1F7E1}\xA0 \u7CBE\u795E\u7279\u5F81\uFF1A",-1)),Ie={class:"row"},Le=l(()=>e("label",null,"\u{1F7E1}\xA0 \u5FC3\u7406\u7279\u5F81\uFF1A",-1)),$e={class:"row"},Ge=l(()=>e("label",null,"\u{1F7E1}\xA0 \u53D1\u75C5\u503E\u5411\uFF1A",-1)),qe=l(()=>e("div",{class:"row"},[e("label",null,"\u{1F7E1} \u8C03\u517B\u65B9\u5F0F\uFF1A")],-1)),Xe={class:"recuperation-method"},Re={class:"howto"},Qe=l(()=>e("span",null,null,-1)),Ue={class:"title"},Ne=l(()=>e("span",null,null,-1));function Ve(t,o,v,p,y,i){const d=P,E=T("van-tab"),A=T("van-tabs");return r(),h("div",z,[t.result.physical==""?(r(),h("div",M,[t.gender==null?(r(),h("div",J,[W,e("div",x,[O,e("div",H,[e("div",{class:"btn male",onClick:o[0]||(o[0]=u=>t.onSelectGender(0))},ee),e("div",{class:"btn female",onClick:o[1]||(o[1]=u=>t.onSelectGender(1))},se)])])])):D("",!0),t.gender!=null?(r(),h("div",oe,[ie,e("ol",ne,[(r(!0),h(m,null,b(t.questionDataList,(u,a)=>(r(),h(m,null,[(r(),h("li",{key:u.id,id:`question_${a}`},[e("p",{id:"problem",style:V({color:a>0&&t.questionDataList[a-1].value==0?"#7e7e7e":"#242421"})},S(a+1)+". "+S(u.questionText),5),!(a>0)||t.questionDataList[a-1].value?(r(),Y(d,{key:0,index:a,value:t.questionDataList[a].value,"onUpdate:value":_=>t.questionDataList[a].value=_,onChange:_=>t.onChange(a)},null,8,["index","value","onUpdate:value","onChange"])):D("",!0)],8,le))],64))),256)),e("div",{class:"submit-btn",onClick:o[2]||(o[2]=(...u)=>t.onSubmit&&t.onSubmit(...u))},"\u67E5\u770B\u7ED3\u679C")])])):D("",!0)])):(r(),h("div",ae,[e("div",ce,[re,t.share?(r(),h("div",{key:0,class:"fenxiangtishi",onClick:o[3]||(o[3]=(...u)=>t.onCloseShare&&t.onCloseShare(...u))},ve)):D("",!0)]),e("div",pe,[ge,e("div",_e,S(t.result.physical),1)]),t.result.both.length>0?(r(),h("div",Se,[Fe,e("div",ye,S(t.strFilter(t.result.both)),1)])):D("",!0),t.result.tenden.length>0?(r(),h("div",Ee,[Ae,e("div",Ce,S(t.strFilter(t.result.tenden)),1)])):D("",!0),fe,e("div",De,[X(A,{active:t.active,"onUpdate:active":o[4]||(o[4]=u=>t.active=u),type:"card"},{default:w(()=>[(r(!0),h(m,null,b(t.result.healthGuide,u=>(r(),Y(E,{key:u.id,title:u.name},{default:w(()=>[e("div",Be,[e("div",me,[be,B(S(u.changjianbiaoxian),1)]),e("div",ke,[Te,B(S(u.xingtitezheng),1)]),e("div",we,[Ye,B(S(u.jingshentezheng),1)]),e("div",Ie,[Le,B(S(u.xinlitezheng),1)]),e("div",$e,[Ge,B(S(u.fabingqingxiang),1)]),qe,e("ul",Xe,[(r(!0),h(m,null,b(u.tiaoyangfangshi,a=>(r(),h("li",{key:a}," \u2705\xA0 "+S(a),1))),128))])])]),_:2},1032,["title"]))),128))]),_:1},8,["active"])]),e("div",Re,[Qe,e("div",Ue,"\u6211\u662F"+S(t.result.physical)+"\uFF0C\u8BE5\u600E\u4E48\u529E\uFF1F",1),Ne]),e("div",{class:"retest",onClick:o[5]||(o[5]=(...u)=>t.onRetest&&t.onRetest(...u))},"\u91CD\u65B0\u6D4B\u8BD5")]))])}var je=I(j,[["render",Ve],["__scopeId","data-v-579ece11"]]);export{je as default};
